<h1>Editing Event</h1>

<div id="error_explanation">  
  <% if @event.errors.any? %>
    <div id="error_explanation">
      <h4>
      <%= pluralize(@event.errors.count, "error") %> prohibited
      this event from being saved:
      </h4>
      <ul>
      <% @event.errors.full_messages.each do |msg| %>
        <div class="alert alert-danger">
          <li><%= msg %></li>
        </div>
      <% end %>
      </ul>
    </div>  
  <% end %>
</div>

<%= form_with(model: @event, local: true) do |f| %>
  <div class="widget-stat card">
    <div class="form-inputs card-body p-4">
      <div class="form-group">
        <label class="mb-1"><strong>Title</strong></label>
          <%= f.text_field :title, autofocus: true, autocomplete: "username", class:"form-control", placeholder:"Event name", :required=> true%>
      </div>

      <div class="file-field form-group">
        <div class="my-post-content pt-3">
          <div class="profile-uoloaded-post border-bottom-1 pb-5">
            <img src="https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg" alt="Image" id="output" class="img-fluid">
          </div>
        </div>
        <div class="form-group">
          <label class="mb-1"><strong>Image</strong></label>
            <%= f.file_field :image, autofocus: true, accept:"image/*" ,class:"form-control", style:"width:100%", onchange:"loadFile(event)" %>
            <%= f.hidden_field :image_cache %>
        </div>
      </div>

      <div class="form-group">
        <label class="mb-1"><strong>Description</strong></label>
          <%= f.text_area :content, autofocus: true, autocomplete: "description", class:"form-control", placeholder:"Event description", :required=> true%>
      </div>

      <div class="form-group">
        <label class="mb-1"><strong>Date Start</strong></label>
          <%= f.date_field :date_start, class:"form-control", :required=> true%>
      </div>

       <div class="form-group">
        <label class="mb-1"><strong>Date End</strong></label>
          <%= f.date_field :date_end, class:"form-control", :required=> true%>
      </div>

      <div class="text-center mb-2">
        <%= link_to "Back", events_path, :class => "btn btn-secondary col-3" %> 
        <%= f.submit "Create Event", :class => "btn btn-primary col-3"%>
      </div>

    </div>
  </div>

<% end %>

